<!doctype html>
<html lang="zh-cn" dir="ltr" class="blog-wrapper blog-list-page plugin-blog plugin-id-default">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.18">
<link rel="alternate" type="application/rss+xml" href="/zh-cn/blog/rss.xml" title="OpenSergo RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/zh-cn/blog/atom.xml" title="OpenSergo Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-48TJZ5FK9M"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-48TJZ5FK9M",{anonymize_ip:!0})</script>
<meta name="baidu-site-verification" content="code-5EKRXnGHhT">
<meta name="aes-config" content="pid=xux-opensource&amp;user_type=101&amp;uid=&amp;username=&amp;dim10=OpenSergo">
<link rel="stylesheet" href="//g.alicdn.com/mamba/assets/0.0.7/mse-arc-ui.min.css">
<script src="//g.alicdn.com/mamba/assets/0.0.7/mse-arc-ui.min.js"></script><title data-rh="true">Blog | OpenSergo</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://opensergo.io/zh-cn/blog/"><meta data-rh="true" name="docusaurus_locale" content="zh-cn"><meta data-rh="true" name="docsearch:language" content="zh-cn"><meta data-rh="true" name="keywords" content="OpenSergo,OpenSergo官网,微服务治理,服务治理,微服务,Sentinel,限流,熔断,全链路灰度,无损上下线,microservice governance"><meta data-rh="true" property="og:title" content="Blog | OpenSergo"><meta data-rh="true" name="description" content="Blog"><meta data-rh="true" property="og:description" content="Blog"><meta data-rh="true" name="docusaurus_tag" content="blog_posts_list"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_posts_list"><link data-rh="true" rel="icon" href="/zh-cn/img/favicon.png"><link data-rh="true" rel="canonical" href="https://opensergo.io/zh-cn/blog/"><link data-rh="true" rel="alternate" href="https://opensergo.io/blog/" hreflang="en-US"><link data-rh="true" rel="alternate" href="https://opensergo.io/zh-cn/blog/" hreflang="zh-cn"><link data-rh="true" rel="alternate" href="https://opensergo.io/blog/" hreflang="x-default"><link rel="stylesheet" href="/zh-cn/assets/css/styles.f6ce6b78.css">
<link rel="preload" href="/zh-cn/assets/js/runtime~main.316fcf92.js" as="script">
<link rel="preload" href="/zh-cn/assets/js/main.b1e4ece7.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script>
<script src="//g.alicdn.com/alilog/mlog/aplus_v2.js" id="beacon-aplus" exparams="clog=o&amp;aplus&amp;sidx=aplusSidx&amp;ckx=aplusCkx"></script>
<script src="//g.alicdn.com/aes/??tracker/1.0.34/index.js,tracker-plugin-pv/2.4.5/index.js,tracker-plugin-event/1.2.5/index.js,tracker-plugin-jserror/1.0.13/index.js,tracker-plugin-api/1.1.14/index.js,tracker-plugin-perf/1.1.8/index.js,tracker-plugin-eventTiming/1.0.4/index.js"></script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">跳到主要内容</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/zh-cn/"><div class="navbar__logo"><img src="/zh-cn/img/logo.svg" alt="OpenSergo" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/zh-cn/img/logo-dark.svg" alt="OpenSergo" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">OpenSergo</b></a><a class="navbar__item navbar__link" href="/zh-cn/docs/what-is-opensergo/intro/">文档</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/zh-cn/blog/">博客</a><a href="https://developer.aliyun.com/ebook/7565?spm=opensergo-website.topbar.0.0.0" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">微服务治理技术白皮书</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><span><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_dNtB"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg><span>简体中文</span></span></a><ul class="dropdown__menu"><li><a href="/blog/" target="_self" rel="noopener noreferrer" class="dropdown__link">English</a></li><li><a href="/zh-cn/blog/" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active">简体中文</a></li></ul></div><a href="https://github.com/opensergo/opensergo-specification" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_S7eR colorModeToggle_vKtC"><button class="clean-btn toggleButton_rCf9 toggleButtonDisabled_Pu9x" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_v35p"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_nQuB"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_a9qW thin-scrollbar" aria-label="最近博文导航"><div class="sidebarItemTitle_uKok margin-bottom--md">Recent posts</div><ul class="sidebarItemList_Kvuv"><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/zh-cn/blog/opensergo-community-meeting-20230111/">OpenSergo 社区双周会纪要（2023/01/11）</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/zh-cn/blog/opensergo-community-meeting-20221207/">OpenSergo 社区双周会纪要（2022/12/07）</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/zh-cn/blog/opensergo-community-meeting-20221123/">OpenSergo 社区双周会纪要（2022/11/23）</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/zh-cn/blog/opensergo-database-governance-spec-with-shardingsphere/">OpenSergo &amp; ShardingSphere 社区共建微服务视角的数据库治理标准</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/zh-cn/blog/opensergo-community-meeting-20221109/">OpenSergo 社区双周会纪要（2022/11/09）</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="blogPostTitle_rzP5" itemprop="headline"><a itemprop="url" href="/zh-cn/blog/opensergo-community-meeting-20230111/">OpenSergo 社区双周会纪要（2023/01/11）</a></h2><div class="blogPostData_Zg1s margin-vert--md"><time datetime="2023-01-11T00:00:00.000Z" itemprop="datePublished">2023年1月11日</time></div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_FlmR"><div class="avatar margin-bottom--sm"><span class="avatar__photo-link avatar__photo"><a href="https://github.com/sczyh30" target="_blank" rel="noopener noreferrer"><img class="image_o0gy" src="https://avatars.githubusercontent.com/u/9434884" alt="赵奕豪"></a></span><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/sczyh30" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">赵奕豪</span></a></div><small class="avatar__subtitle" itemprop="description">Maintainer of Sentinel &amp;&amp; OpenSergo</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>本次（2023/01/11）OpenSergo 与 Sentinel 社区会议合并进行，会议纪要：</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="议题讨论">议题讨论<a class="hash-link" href="#议题讨论" title="标题的直接链接">​</a></h2><ol><li>@屿山 详细分享了 OpenSergo 控制面 Go 扩展性的技术方案及业界调研。OpenSergo Control Plane 作为统一服务治理控制面，期望提供低侵入、灵活的扩展机制，以便支持配置监听/转换、策略预计算等模块可插拔扩展。欢迎社区一起参与讨论与设计：<a href="https://github.com/opensergo/opensergo-control-plane/issues/46" target="_blank" rel="noopener noreferrer">https://github.com/opensergo/opensergo-control-plane/issues/46</a></li><li>@Jason 详细分享并讨论了事件/消息治理 proto 相关的设计，Apache EventMesh 等社区同学参与了讨论完善。该设计还在进一步完善中，欢迎大家参与完善：<a href="https://github.com/opensergo/opensergo-specification/issues/62" target="_blank" rel="noopener noreferrer">https://github.com/opensergo/opensergo-specification/issues/62</a></li></ol><h2 class="anchor anchorWithStickyNavbar_mojV" id="其它社区进展同步">其它社区进展同步<a class="hash-link" href="#其它社区进展同步" title="标题的直接链接">​</a></h2><p>OpenSergo 社区关键进展：</p><ul><li><strong>Java 社区落地</strong>：<a href="https://github.com/alibaba/spring-cloud-alibaba/blob/2.2.x/spring-cloud-alibaba-examples/governance-example/label-routing-example/readme-zh.md#%E9%9B%86%E6%88%90opensergo" target="_blank" rel="noopener noreferrer">Spring Cloud Alibaba 正式发布 2.2.10.RC1 版本支持服务治理相关能力并支持 OpenSergo 流量路由 spec</a>，欢迎社区体验。</li></ul><p>Sentinel 社区关键进展：</p><ul><li>Sentinel 社区近期在验证 GraalVM 下流量防护能力时遇到了一些问题，欢迎社区一起解决：<a href="https://github.com/alibaba/Sentinel/issues/3012" target="_blank" rel="noopener noreferrer">https://github.com/alibaba/Sentinel/issues/3012</a></li><li>Sentinel Go OpenSergo data-source 完成代码重构与结构完善：<a href="https://github.com/alibaba/sentinel-golang/pull/489" target="_blank" rel="noopener noreferrer">https://github.com/alibaba/sentinel-golang/pull/489</a></li></ul><hr><h2 class="anchor anchorWithStickyNavbar_mojV" id="社区会议参与方式">社区会议参与方式<a class="hash-link" href="#社区会议参与方式" title="标题的直接链接">​</a></h2><p>OpenSergo 社区会议每两周开展一次（一般是每两周的周三晚），时间为1小时左右。入会方式：</p><ul><li>会议形式：钉钉会议</li><li>OpenSergo 社区交流群（钉钉群）：34826335</li><li>钉钉会议入会口令：244 801 51010</li></ul><p>本次社区会议是春节前的最后一次社区会议，社区在此预祝各位开发者新年快乐~</p></div></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="blogPostTitle_rzP5" itemprop="headline"><a itemprop="url" href="/zh-cn/blog/opensergo-community-meeting-20221207/">OpenSergo 社区双周会纪要（2022/12/07）</a></h2><div class="blogPostData_Zg1s margin-vert--md"><time datetime="2022-12-07T00:00:00.000Z" itemprop="datePublished">2022年12月7日</time></div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_FlmR"><div class="avatar margin-bottom--sm"><span class="avatar__photo-link avatar__photo"><a href="https://github.com/sczyh30" target="_blank" rel="noopener noreferrer"><img class="image_o0gy" src="https://avatars.githubusercontent.com/u/9434884" alt="赵奕豪"></a></span><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/sczyh30" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">赵奕豪</span></a></div><small class="avatar__subtitle" itemprop="description">Maintainer of Sentinel &amp;&amp; OpenSergo</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>本次（2022/12/07）OpenSergo 与 Sentinel 社区会议合并进行，会议纪要：</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="议题讨论">议题讨论<a class="hash-link" href="#议题讨论" title="标题的直接链接">​</a></h2><ol><li><p>@十眠 分享了 Spring Cloud Alibaba 流量路由基于 OpenSergo 新的流量路由 CRD 的演示与改造。目前 OpenSergo 流量路由 CRD 直接基于 Istio VirtualService/DestinationRule 进行扩展，传输链路 proto 基于 RDS 进行扩展，以便做到易理解、通用。欢迎社区一起 review SCA+OpenSergo 流量路由 spec 整合 PR：<a href="https://github.com/alibaba/spring-cloud-alibaba/pull/2921" target="_blank" rel="noopener noreferrer">https://github.com/alibaba/spring-cloud-alibaba/pull/2921</a></p></li><li><p>@流士 介绍了无损上下线治理相关的技术与模型设计，并与 bilibili、小红书的同学进行了探讨。对于任何一个线上应用来说，发布、扩容、缩容、重启等操作不可避免。伴随微服务规模化和应用的云原生化，对业务频繁发布过程中流量损失的容忍度逐步降低，在应用部署阶段我们可以借助无损上下线治理解决变更态业务有损问题。模型设计可以参考 <a href="https://mp.weixin.qq.com/s/KBVrGBsYKtgcmvagNOfzqw" target="_blank" rel="noopener noreferrer">OpenSergo 无损上下线治理之模型与原理篇</a> 这篇文章。</p></li></ol><p><img loading="lazy" src="https://user-images.githubusercontent.com/9434884/208599571-b71b3c85-fd92-4bc5-afbb-5602dde39b42.png" alt="image" class="img_E7b_"></p><ol start="3"><li>@宿何(Eric) 介绍了从微服务框架的视角如何统一对接 Sentinel 2.0 流量治理能力。Sentinel 2.0 将升级为云原生的流量治理组件，在原有流量防护与自愈能力的基础上，新增流量路由调度、负载均衡策略、流量权重策略、流量染色等流量治理的核心能力。目前 Sentinel 社区还在进行骨架抽象，预计下次社区双周会可以分享 Sentinel 2.0 初版骨架的 POC。</li></ol><h2 class="anchor anchorWithStickyNavbar_mojV" id="其它社区进展同步">其它社区进展同步<a class="hash-link" href="#其它社区进展同步" title="标题的直接链接">​</a></h2><p>OpenSergo 社区关键进展：</p><ul><li><a href="https://github.com/opensergo/opensergo-go-sdk" target="_blank" rel="noopener noreferrer">OpenSergo Go SDK</a> 正式发布首个版本，具备各个 Go 框架与组件快速对接 OpenSergo 标准 CRD 的能力，进一步扩充多语言治理生态。后续社区将持续推进各主流微服务框架与 OpenSergo 生态的对接，并将流量治理核心能力沉淀到 Sentinel Go 2.0 中。</li></ul><p>Sentinel 社区关键进展：</p><ul><li>社区贡献的 Kubernetes operator for Sentinel dashboard 已合并，将作为 Sentinel 2.0 的周边配套组件一起发布。GitHub repo: <a href="https://github.com/sentinel-group/sentinel-dashboard-k8s-operator" target="_blank" rel="noopener noreferrer">https://github.com/sentinel-group/sentinel-dashboard-k8s-operator</a></li><li>社区正在讨论 Sentinel 适配模块支持 Spring Boot 3 (Spring 6) 的事项，欢迎社区一起参与讨论：<a href="https://github.com/alibaba/Sentinel/issues/2986" target="_blank" rel="noopener noreferrer">https://github.com/alibaba/Sentinel/issues/2986</a></li></ul><hr><h2 class="anchor anchorWithStickyNavbar_mojV" id="社区会议参与方式">社区会议参与方式<a class="hash-link" href="#社区会议参与方式" title="标题的直接链接">​</a></h2><p>OpenSergo 社区会议每两周开展一次（一般是每两周的周三晚），时间为1小时左右。入会方式：</p><ul><li>会议形式：钉钉会议</li><li>OpenSergo 社区交流群（钉钉群）：34826335</li><li>钉钉会议入会口令：244 801 51010</li></ul><p>下一次社区会议为2022年度最后一次 Sentinel &amp; OpenSergo 社区联合会议，时间为 2022/12/22（周四）晚 19:30，欢迎社区同学参与讨论与分享。</p></div></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="blogPostTitle_rzP5" itemprop="headline"><a itemprop="url" href="/zh-cn/blog/opensergo-community-meeting-20221123/">OpenSergo 社区双周会纪要（2022/11/23）</a></h2><div class="blogPostData_Zg1s margin-vert--md"><time datetime="2022-11-23T00:00:00.000Z" itemprop="datePublished">2022年11月23日</time></div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_FlmR"><div class="avatar margin-bottom--sm"><span class="avatar__photo-link avatar__photo"><a href="https://github.com/sczyh30" target="_blank" rel="noopener noreferrer"><img class="image_o0gy" src="https://avatars.githubusercontent.com/u/9434884" alt="赵奕豪"></a></span><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/sczyh30" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">赵奕豪</span></a></div><small class="avatar__subtitle" itemprop="description">Maintainer of Sentinel &amp;&amp; OpenSergo</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>本次（2022/11/23）OpenSergo 与 Sentinel 社区会议合并进行，议程如下：</p><ul><li>同步上一周期的进展，包括微服务治理 spec 建设、Control Plane &amp;&amp; SDK 进展、社区生态接入，以及 Sentinel 社区进展。</li><li>社区分享与讨论，包括 Sentinel 2.0 新模型及流量治理骨架设计讨论、OpenSergo 与 Istio 生态结合的方案讨论等。</li></ul><p>会议纪要：</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="议题讨论">议题讨论<a class="hash-link" href="#议题讨论" title="标题的直接链接">​</a></h2><ol><li>社区分享了 Sentinel 2.0 新模型及流量治理骨架设计。Sentinel 2.0 将升级为流量治理组件并作为 OpenSergo 流量治理能力与标准实现，其中重点设计包括：</li></ol><ul><li>Sentinel 2.0 SDK 新模型：<a href="https://github.com/alibaba/Sentinel/issues/2845" target="_blank" rel="noopener noreferrer">https://github.com/alibaba/Sentinel/issues/2845</a></li><li>Sentinel 2.0 流量治理骨架抽象：<a href="https://github.com/alibaba/Sentinel/issues/2943" target="_blank" rel="noopener noreferrer">https://github.com/alibaba/Sentinel/issues/2943</a></li><li>Sentinel 2.0 自适应策略抽象：<a href="https://github.com/alibaba/Sentinel/issues/1889" target="_blank" rel="noopener noreferrer">https://github.com/alibaba/Sentinel/issues/1889</a></li></ul><p>欢迎大家一起参与 Sentinel 2.0 Java/Go 版本的共建~</p><ol start="2"><li>社区分享了 OpenSergo 与 Istio 生态结合的方案，同时分享了 OpenSergo 流量路由 spec 订正思路。</li></ol><ul><li>关于 OpenSergo 与 Istio 生态结合的方案，有两种情况（1）OpenSergo 控制平面具备 CRD 转换的能力，支持将 OpenSergo 流量路由/染色 CRD 受限转换为 Istio VirtualService/DestinationRule 以及 EnvoyFilter（按需）。这样可以做到开箱即用，但 CRD 转换受限于 Istio/Envoy 本身的能力，只能配置最基本的 OpenSergo 治理能力（2）OpenSergo 控制面将 CRD 转为 low-level config 后由 OpenSergo 自身的链路进行配置下发，通过 Envoy WASM plugin 或 SDK 生效（后者即框架本身支持 OpenSergo），这种场景支持全部的 OpenSergo 治理能力。</li><li>基于通用性、理解成本等考虑，社区提出了 OpenSergo 流量路由 spec 的另一种思路：直接基于 Istio VirtualService/DestinationRule 进行字段扩展，重新定义了 <code>TrafficRouter</code> 与 <code>VirtualWorkload</code>。稍后社区将提交新的 PR 来进行详细描述。</li><li>基于以上两点，全链路灰度在 OpenSergo 生态中的实现方式：<code>TrafficLane</code> CRD 按需生成 TrafficRouter/VirtualWorkload CRD（OpenSergo 体系，走 OpenSergo 链路下发与生效）或 VirtualService/DestinationRule + EnvoyFilter（纯 Istio+xDS 体系）。</li></ul><p><img loading="lazy" src="https://user-images.githubusercontent.com/9434884/203909968-cd375190-2f81-43ed-83ee-e1f7239fe31f.png" alt="image" class="img_E7b_"></p><p>同时社区针对 Istio 控制平面存在的问题进行了讨论。</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="其它社区进展同步">其它社区进展同步<a class="hash-link" href="#其它社区进展同步" title="标题的直接链接">​</a></h2><p>OpenSergo 社区关键进展：</p><ul><li>本周社区对 OpenSergo Go SDK 整体做了几轮 review，并进行代码重构与完善完善。预计本周可以合并并发布初版，PR: <a href="https://github.com/opensergo/opensergo-go-sdk/pull/2" target="_blank" rel="noopener noreferrer">https://github.com/opensergo/opensergo-go-sdk/pull/2</a></li></ul><p>Sentinel 社区关键进展：</p><ul><li>近期社区开发者贡献了 Kubernetes operator for Sentinel dashboard，欢迎大家一起 review: <a href="https://github.com/sentinel-group/sentinel-dashboard-k8s-operator/pull/1" target="_blank" rel="noopener noreferrer">https://github.com/sentinel-group/sentinel-dashboard-k8s-operator/pull/1</a></li><li>社区正在梳理并处理 Sentinel 2.0 milestone issues，欢迎社区添加感兴趣的 feature/enhancement：<a href="https://github.com/alibaba/Sentinel/milestone/18" target="_blank" rel="noopener noreferrer">https://github.com/alibaba/Sentinel/milestone/18</a></li></ul><hr><h2 class="anchor anchorWithStickyNavbar_mojV" id="社区会议参与方式">社区会议参与方式<a class="hash-link" href="#社区会议参与方式" title="标题的直接链接">​</a></h2><p>OpenSergo 社区会议每两周开展一次（一般是每两周的周三晚），时间为1小时左右。入会方式：</p><ul><li>会议形式：钉钉会议</li><li>OpenSergo 社区交流群（钉钉群）：34826335</li><li>钉钉会议入会口令：244 801 51010</li></ul><p>欢迎社区同学参与讨论与分享。</p></div></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="blogPostTitle_rzP5" itemprop="headline"><a itemprop="url" href="/zh-cn/blog/opensergo-database-governance-spec-with-shardingsphere/">OpenSergo &amp; ShardingSphere 社区共建微服务视角的数据库治理标准</a></h2><div class="blogPostData_Zg1s margin-vert--md"><time datetime="2022-11-10T00:00:00.000Z" itemprop="datePublished">2022年11月10日</time></div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_FlmR"><div class="avatar margin-bottom--sm"><span class="avatar__photo-link avatar__photo"><a href="https://github.com/sczyh30" target="_blank" rel="noopener noreferrer"><img class="image_o0gy" src="https://avatars.githubusercontent.com/u/9434884" alt="赵奕豪"></a></span><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/sczyh30" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">赵奕豪</span></a></div><small class="avatar__subtitle" itemprop="description">Maintainer of Sentinel &amp;&amp; OpenSergo</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_mojV" id="为什么需要微服务治理与-opensergo">为什么需要微服务治理与 OpenSergo？<a class="hash-link" href="#为什么需要微服务治理与-opensergo" title="标题的直接链接">​</a></h2><p>在经典微服务架构中，我们通常将服务调用中各角色划分为三部分：服务提供者、服务消费者、注册中心。经典的微服务架构可以解决微服务能调通、可以运行起来的问题。随着分布式服务架构的不断演进、业务规模的扩张，诸多复杂的稳定性与易用性问题显现出来，这时候就需要一些手段来针对日益复杂的微服务架构进行“治理”。微服务治理就是通过流量治理、服务容错、安全治理等技术手段来减少甚至避免发布和管理大规模应用过程中遇到的稳定性问题，对微服务领域中的各个组件进行治理。服务提供者、消费者、注册中心、服务治理，构成现代微服务架构中重要的几环。</p><p><img loading="lazy" src="https://user-images.githubusercontent.com/9434884/201810889-b31e7ac3-d39f-431e-a291-73ff3038b688.png" alt="image" class="img_E7b_"></p><p>微服务治理是把微服务做稳做好的关键一环。但是，业界微服务治理存在概念不统一、配置形式不统一、能力不统一、多框架统一管控较为复杂等问题。比如我们希望配置流量灰度规则，在 Spring Cloud Alibaba 中可能需要通过 YAML 方式配置，在 Dubbo 中需要通过另一种配置格式进行配置，在 Istio 体系内中可能又需要通过 Istio CRD 的方式进行配置。<strong>不同框架治理配置方式的不一致使得微服务统一治理管控的复杂度相当高</strong>。另外，业界的各种框架支持的服务治理能力都不统一，且通常比较基础，很多时候无法覆盖生产级的场景。</p><p><img loading="lazy" alt="background" src="/zh-cn/assets/images/why-do-we-need-spec-background-2fac977371c859603a8322d60b011a6d.jpg" width="2628" height="1012" class="img_E7b_"></p><p>基于上面这些痛点，阿里巴巴在2022年1月开始和 bilibili、字节等企业讨论服务治理如何规范化和更加普及，从而共同发起了 <a href="https://opensergo.io/zh-cn/" target="_blank" rel="noopener noreferrer">OpenSergo 项目</a>。<strong>OpenSergo 是开放通用的，覆盖微服务及上下游关联组件的微服务治理项目，从微服务的角度出发，涵盖流量治理、服务容错、服务元信息治理、安全治理等关键治理领域，提供一系列的治理能力与标准、生态适配与最佳实践，支持 Java, Go, Rust 等多语言生态</strong>。OpenSergo 的最大特点就是以统一的一套配置/DSL/协议定义服务治理规则，面向多语言异构化架构，覆盖微服务框架及上下游关联组件。无论微服务的语言是 Java, Go, Node.js 还是其它语言，无论是标准微服务还是 Mesh 接入，从网关到微服务调用，再到微服务对数据库/缓存的访问，开发者都可以通过同一套 OpenSergo CRD 标准配置进行统一的治理管控，而无需关注各框架、语言的差异点，降低异构化、全链路微服务治理管控的复杂度。</p><p><img loading="lazy" alt="overview" src="/zh-cn/assets/images/opensergo-spec-areas-cn-3089657c690085df443ce633db8ad2ae.png" width="1417" height="737" class="img_E7b_"></p><p>OpenSergo 提供 Java、Go 等多语言的 SDK，各个框架生态可以非常方便地通过 OpenSergo SDK 来对接 OpenSergo 标准配置，接入到 OpenSergo 生态中，通过 OpenSergo 控制平面 (Control Plane) 统一管理服务治理规则。</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="微服务视角的数据库治理是保障服务稳定性的关键一环">微服务视角的数据库治理是保障服务稳定性的关键一环<a class="hash-link" href="#微服务视角的数据库治理是保障服务稳定性的关键一环" title="标题的直接链接">​</a></h2><p>提到“微服务治理”，很多开发者会首先想到针对微服务之间的调用流量进行治理，但很多时候大家容易忽视掉微服务访问存储与其它中间件的这部分流量。在一个真实的业务生产环境中，流量首先先进入入口网关（如 Nginx、Envoy），再流转到后端 Web Server，再流转到微服务之间的 RPC 调用，再流转到针对数据库、缓存、消息等存储/中间件的访问。在这样一个全链路的架构中，仅仅关注微服务之间的调用是不够的，我们需要针对链路中的每一环分别进行针对性的治理。其中微服务对数据库的访问是非常普遍的，也是容易出现稳定性问题的一环。比如：</p><ul><li>某个应用某类报表 SQL 访问量非常大，且查询非常消耗性能，把数据库 CPU 打满</li><li>慢 SQL 访问非常多，占满连接池/业务线程池，导致服务无法处理正常请求，甚至导致级联雪崩</li><li>连接池参数配置不合理，导致大量 SQL 写操作时无法有效获取连接，业务大量报错</li><li>数据库访问需要按环境标进行隔离，比如灰度数据写入到灰度表中</li></ul><p><img loading="lazy" alt="db-gov-bg" src="/zh-cn/assets/images/database-governance-background-b33bab01d26d0af07bdc1c510694b137.jpg" width="2204" height="1184" class="img_E7b_"></p><p>对于大多数的后端应用来讲，系统性能扩展的瓶颈主要受限于数据库。尤其在微服务的环境下，数据库的性能治理问题往往也是团队优先级最高的几类工作之一，数据库治理自然也成为微服务治理中必不可少的一环。我们期望开发者可以结合数据库治理能力，来保障微服务访问数据库的稳定性（保护微服务自身不被拖垮），同时也保障数据库的稳定性。</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="opensergo-联合-shardingsphere-社区共建数据库治理标准">OpenSergo 联合 ShardingSphere 社区共建数据库治理标准<a class="hash-link" href="#opensergo-联合-shardingsphere-社区共建数据库治理标准" title="标题的直接链接">​</a></h2><p>基于以上背景，OpenSergo 社区期望结合企业与开源社区的经验，抽出一套通用的、从微服务视角出发的数据库治理标准规范。<a href="https://shardingsphere.apache.org/" target="_blank" rel="noopener noreferrer">ShardingSphere</a> 作为数据库治理领域的标杆项目，沉淀了非常丰富的最佳实践与技术经验，可以很好地为 OpenSergo 补充数据库治理领域的空缺。<strong>因此 OpenSergo 社区联合 ShardingSphere 社区共建微服务视角的数据库治理标准，扩充治理边界，让社区能够以标准化的方式针对不同数据层框架与流量进行统一治理管控，共同推进治理领域技术与生态演进。</strong></p><p><img loading="lazy" alt="opensergo-db-governance-overview" src="/zh-cn/assets/images/opensergo-db-governance-overview-bf371dad0d4f8ea740c7149dc284f1e0.jpg" width="2216" height="1000" class="img_E7b_"></p><p>对于此次 OpenSergo 与 ShardingSphere 社区之间的合作，双方社区负责人都对此次合作表达了自己的观点：</p><blockquote><p><strong>Apache ShardingSphere PMC Chair 张亮</strong>: 在微服务领域，服务间的交互与协作已日臻完善，而服务对数据库的访问却依然缺失行之有效的标准。ShardingSphere 自开源以来，一直持续不断的践行着“连接、增强、可插拔”的设计哲学。其中，“连接”则是希望提供标准化的协议和接口，打破开发语言访问异构数据库的壁垒。OpenSergo 提出了微服务治理的标准，并首次将数据库的访问放在了标准中，非常具备前瞻性。作为访问数据库重要入口的微服务，我非常希望 ShardingSphere 和 OpenSergo 共建标准。</p></blockquote><blockquote><p><strong>OpenSergo &amp;&amp; Sentinel 社区负责人 赵奕豪（宿何）</strong>：在微服务治理领域中，除了微服务本身的治理之外，针对数据库访问的治理也是保障业务可靠性与连续性的关键一环。ShardingSphere 作为数据库治理领域的标杆项目，沉淀了非常丰富的最佳实践与技术经验，可以很好地为 OpenSergo 补充数据库治理领域的空缺。因此我们联合 ShardingSphere 社区共建微服务视角的数据库治理标准，扩充治理边界，期待让社区能够以标准化的方式针对不同数据层框架与流量进行统一治理管控，共同推进治理领域技术与生态演进。</p></blockquote><p>OpenSergo 微服务视角的数据库治理标准主要包括以下几部分：</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="对数据库-workload-及访问对象的抽象">对数据库 workload 及访问对象的抽象<a class="hash-link" href="#对数据库-workload-及访问对象的抽象" title="标题的直接链接">​</a></h3><p>在治理规则中，我们通常需要指定规则作用的数据库实例（或实例组），或者满足的 SQL 条件。针对这一部分，我们在 OpenSergo 数据库治理标准中针对数据库 target workload 及访问对象进行了一些抽象。</p><ul><li><strong>虚拟数据库 (VirtualDatabase)</strong>：在数据库治理中，不管是读写分离、分库分表、影子库，还是加密、审计和访问控制等，都需要作用在一个具体的数据库之上。在这里将这样的一个逻辑的数据库称为虚拟数据库，即 VirtualDatabase。VirtualDatabase 在应用看来是一组特定的数据库访问信息，并通过绑定特定的治理策略实现相应的治理能力</li><li><strong>数据库端点 (DatabaseEndpoint)</strong>：在数据库治理中，通过 VirtualDatabase 向应用声明了可以使用的逻辑数据库，而数据的真实存储则依赖于这样的一个物理的数据库，这里称为数据库访问端点，即 DatabaseEndpoint。DatabaseEndpoint 对应用无感知，它只能被 VirtualDatabase 通过特定治理策略所绑定然后连接和使用。</li></ul><p>针对访问对象的条件抽象：</p><ul><li><strong>数据库访问对象 (DatabaseAccessTarget)</strong>：定义一组匹配条件，如针对某个实例/库/表的访问、针对某类 SQL 性质（读/写操作）、按 SQL pattern 匹配、按 SQL 参数匹配等。将 DatabaseAccessTarget 与具体的治理规则结合，我们可以实现细粒度的数据库流量治理。</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="流量治理在数据库访问的体现">流量治理在数据库访问的体现<a class="hash-link" href="#流量治理在数据库访问的体现" title="标题的直接链接">​</a></h3><p>在微服务对数据库的访问中，流量路由、流量隔离、流控降级与容错等相关流量治理能力是数据库治理中非常重要的一块。</p><p>在流控降级与容错领域，我们复用了 OpenSergo 流控降级与容错标准。OpenSergo 流控降级与容错 spec 定义了三要素：Target（针对怎样的流量）、Strategy（对应怎样的流量治理策略）、FallbackAction（触发策略之后的行为）。在针对数据库访问的治理中，我们将流量条件抽象为 <code>DatabaseAccessTarget</code>，结合 OpenSergo 自有的流控、并发控制、熔断等策略，即可以实现细粒度的流控降级与容错。</p><p><img loading="lazy" src="https://user-images.githubusercontent.com/9434884/201811647-23da5d68-1c7f-4fcf-b6ca-6c3f9e1dae5b.png" alt="db-ft" class="img_E7b_"></p><p>同时数据库流量治理体系中还有一些关键的、数据库领域特有的治理能力：</p><ul><li><strong>读写流量路由 (ReadWriteSplitting)</strong>：读写分离是常用的数据库扩展方式之一，主库用于事务性的读写操作，从库主要用于查询等操作。读写流量路由规则可以指定将读 SQL 路由到读库，事务性的读写操作路由到主库。</li><li><strong>分库分表路由 (Sharding)</strong>：数据分片路由是基于数据属性一种扩展策略，对数据属性进行计算后将请求路由到特定的数据后端，目前分为分片键分片和自动分片。其中分片键分片中需要指明需要分片的表、列、以及进行分片的算法。</li><li><strong>数据流量隔离 (影子库表 Shadow)</strong>：影子库表可以帮助在灰度环境或者测试环境中，接收灰度流量或者测试数据请求，结合影子算法等灵活配置多种路由方式。</li><li><strong>数据加密 (Encryption)</strong>：企业往往因为安全审计和合规的要求，需要对数据存储提供多种安全加固措施，比如数据加密。 数据加密通过对用户输入的 SQL 进行解析，并依据用户提供的加密规则对 SQL 进行改写，从而实现对原文数据进行加密，并将原文数据（可选）及密文数据同时存储到底层数据库。在用户查询数据时，它仅从数据库中取出密文数据，并对其解密，最终将解密后的原始数据返回给用户。</li></ul><p><img loading="lazy" alt="db-gov-feature-intro-1" src="/zh-cn/assets/images/db-governance-feature-intro-s1-f305d3bf46b2ed90a228ec6a6a17c9fa.jpg" width="3484" height="908" class="img_E7b_"></p><p>以下是一个读写流量路由规则的示例：</p><div class="codeBlockContainer_I0IT language-yaml theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-yaml codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># 虚拟数据库配置</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> database.opensergo.io/v1alpha1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> VirtualDatabase</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> readwrite_splitting_db</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">services</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> readwrite_splitting_db</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">databaseMySQL</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">db</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> readwrite_splitting_db</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">host</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> localhost</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3306</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">user</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> root</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">password</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> root</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">readWriteSplitting</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;readwrite&quot;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># 声明所需要的读写分离策略</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">---</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 写数据源的数据库端点配置</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> database.opensergo.io/v1alpha1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> DatabaseEndpoint</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> write_ds</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">database</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">MySQL</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">                 </span><span class="token comment" style="color:#999988;font-style:italic"># 声明后端数据源的类型及相关信息</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">url</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> jdbc</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">mysql</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">//192.168.1.110</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">3306/demo_write_ds</span><span class="token punctuation" style="color:#393A34">?</span><span class="token plain">serverTimezone=UTC</span><span class="token important">&amp;useSSL=false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">username</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> root</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">password</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> root</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">connectionTimeout</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">30000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">idleTimeoutMilliseconds</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">60000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">maxLifetimeMilliseconds</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1800000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">maxPoolSize</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">50</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">minPoolSize</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">---</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 第一个读数据源的数据库端点配置</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> database.opensergo.io/v1alpha1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> DatabaseEndpoint</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> read_ds_0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">database</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">MySQL</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">                 </span><span class="token comment" style="color:#999988;font-style:italic"># 声明后端数据源的类型及相关信息</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">url</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> jdbc</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">mysql</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">//192.168.1.110</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">3306/demo_read_ds_0</span><span class="token punctuation" style="color:#393A34">?</span><span class="token plain">serverTimezone=UTC</span><span class="token important">&amp;useSSL=false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">username</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> root</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">password</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> root</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">connectionTimeout</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">30000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">idleTimeoutMilliseconds</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">60000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">maxLifetimeMilliseconds</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1800000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">maxPoolSize</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">50</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">minPoolSize</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">      </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">---</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 第二个读数据源的数据库端点配置</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> database.opensergo.io/v1alpha1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> DatabaseEndpoint</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> read_ds_1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">database</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">MySQL</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">                              </span><span class="token comment" style="color:#999988;font-style:italic"># 声明后端数据源的类型及相关信息</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">url</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> jdbc</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">mysql</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">//192.168.1.110</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">3306/demo_read_ds_1</span><span class="token punctuation" style="color:#393A34">?</span><span class="token plain">serverTimezone=UTC</span><span class="token important">&amp;useSSL=false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">username</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> root</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">password</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> root</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">connectionTimeout</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">30000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">idleTimeoutMilliseconds</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">60000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">maxLifetimeMilliseconds</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1800000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">maxPoolSize</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">50</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">minPoolSize</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">---</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 静态读写分离配置</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> database.opensergo.io/v1alpha1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ReadWriteSplitting</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> readwrite</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">rules</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">staticStrategy</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">writeDataSourceName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;write_ds&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">readDataSourceNames</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;read_ds_0&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;read_ds_1&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">loadBalancerName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;random&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">loadBalancers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">loadBalancerName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;random&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;RANDOM&quot;</span><br></span></code></pre><button type="button" aria-label="复制代码到剪贴板" title="复制" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>以下是一个针对某个 SQL 进行并发控制的示例。这个规则会针对 foo 应用针对 <code>SELECT * FROM users WHERE id = ?</code> 的 SQL 访问进行并发控制，单机并发数不超过 8。</p><div class="codeBlockContainer_I0IT language-yaml theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-yaml codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> traffic.opensergo.io/v1alpha1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> DatabaseAccessTarget</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> target</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">foo</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">user</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">select</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">sql</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">sqlMatch</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">exactMatch</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;SELECT * FROM users WHERE id = ?&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">---</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> fault</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">tolerance.opensergo.io/v1alpha1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ConcurrencyLimitStrategy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> concurrency</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">limit</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">foo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">maxConcurrency</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">limitMode</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Local&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">---</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> fault</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">tolerance.opensergo.io/v1alpha1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> FaultToleranceRule</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">sql</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">conc</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">limit</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">rule</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">selector</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> foo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">targets</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">targetRef</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> target</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">foo</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">user</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">select</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">sql</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">strategies</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> concurrency</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">limit</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">foo</span><br></span></code></pre><button type="button" aria-label="复制代码到剪贴板" title="复制" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="其它数据库治理能力">其它数据库治理能力<a class="hash-link" href="#其它数据库治理能力" title="标题的直接链接">​</a></h3><ul><li><strong>数据库发现 (DatabaseDiscovery)</strong>：数据库自动发现指的是根据数据库高可用配置，通过探测的方式感知数据源状态变化，并对流量策略做出相应的调整。比如后端数据源为 MySQL MGR，那么可以配置数据库发现类型为 MYSQL.MGR，指定 group-name，并配置相应的探测心跳节律。</li><li><strong>分布式事务配置 (DistributedTransaction)</strong>：声明分布式事务相关的配置，目前支持声明事务的类型。</li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="展望">展望<a class="hash-link" href="#展望" title="标题的直接链接">​</a></h2><p>微服务视角的数据库治理是保障微服务稳定性的重要一环。OpenSergo 社区将持续与 ShardingSphere 及 Database Mesh 社区进行合作，不断完善与丰富数据库治理标准及场景。接下来社区会开展 ShardingSphere 与 OpenSergo 的集成工作，将数据库治理 spec 落地到社区实现。</p><p>微服务治理是微服务改造深入到一定阶段之后的必经之路，是将微服务做稳做好的关键。OpenSergo 社区持续与 ShardingSphere、Database Mesh、CloudWeGo、Kratos、Spring Cloud Alibaba、Dubbo 等社区共同建设 OpenSergo 微服务治理标准，将企业与社区中微服务治理的场景与最佳实践共同提取成标准规范，也欢迎更多社区与企业一起参与 OpenSergo 微服务治理标准的共建。</p><p>OpenSergo 社区现在处于高速发展阶段，从微服务治理标准定义，到 Control Plane 的实现，再到 Java/Go/C++/Rust 等多语言 SDK 与治理功能的实现，再到各个微服务生态的整合与落地，都还有大量的演进工作，欢迎社区一起参与标准完善与代码贡献。</p><p><strong>OpenSergo 开源贡献小组正在火热招募贡献者</strong>。如果您有时间，有热情，有意愿，欢迎联系社区加入开源贡献小组，一起共同完善 OpenSergo 和 Sentinel，一起主导微服务治理技术与标准演进。Now let&#x27;s start hacking!</p><p>欢迎关注 OpenSergo 社区微信公众号，了解微服务治理社区最新动态：OpenSergo</p></div></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="blogPostTitle_rzP5" itemprop="headline"><a itemprop="url" href="/zh-cn/blog/opensergo-community-meeting-20221109/">OpenSergo 社区双周会纪要（2022/11/09）</a></h2><div class="blogPostData_Zg1s margin-vert--md"><time datetime="2022-11-09T00:00:00.000Z" itemprop="datePublished">2022年11月9日</time></div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_FlmR"><div class="avatar margin-bottom--sm"><span class="avatar__photo-link avatar__photo"><a href="https://github.com/sczyh30" target="_blank" rel="noopener noreferrer"><img class="image_o0gy" src="https://avatars.githubusercontent.com/u/9434884" alt="赵奕豪"></a></span><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/sczyh30" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">赵奕豪</span></a></div><small class="avatar__subtitle" itemprop="description">Maintainer of Sentinel &amp;&amp; OpenSergo</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>本次 OpenSergo 社区双周会（2022/11/09）的议程：</p><ul><li>同步上一周期的进展，包括 spec 建设、Control Plane &amp;&amp; SDK 进展、社区生态接入等进展</li><li>社区分享与讨论，包括 Spring Cloud Alibaba 流量染色 Demo 演示、OpenSergo 控制面设计优化讨论、开源贡献小组任务梳理与讲解等</li></ul><p>本次 OpenSergo 社区双周会纪要：</p><ol><li><p>@十眠 演示了 Spring Cloud Alibaba 集成 OpenSergo 流量染色 spec 的 demo，适配模块的代码预计近期提交 PR。流量染色是流量治理领域非常重要的能力，欢迎社区一起来 review 与完善流量染色 spec: <a href="https://github.com/opensergo/opensergo-specification/pull/52" target="_blank" rel="noopener noreferrer">https://github.com/opensergo/opensergo-specification/pull/52</a></p></li><li><p>社区针对 OpenSergo 控制平面 (Control Plane) 现有的设计与问题进行了讨论。其中包括：</p></li></ol><ul><li>控制平面取消订阅 (unsubscribe) 某个订阅分组的设计: <a href="https://github.com/opensergo/opensergo-control-plane/issues/7" target="_blank" rel="noopener noreferrer">https://github.com/opensergo/opensergo-control-plane/issues/7</a></li><li>控制平面向 client 推送数据时针对超时的处理机制设计：<a href="https://github.com/opensergo/opensergo-control-plane/issues/8" target="_blank" rel="noopener noreferrer">https://github.com/opensergo/opensergo-control-plane/issues/8</a></li><li>控制平面 CRD 事件处理 debounce 机制：<a href="https://github.com/opensergo/opensergo-control-plane/issues/24" target="_blank" rel="noopener noreferrer">https://github.com/opensergo/opensergo-control-plane/issues/24</a></li><li>监听数据的版本管理机制</li></ul><p>近期社区整理了很多 OpenSergo 控制平面相关的 good first issue，欢迎社区同学参与贡献：<a href="https://github.com/opensergo/opensergo-control-plane/issues" target="_blank" rel="noopener noreferrer">https://github.com/opensergo/opensergo-control-plane/issues</a></p><ol start="3"><li>Committer @贾江南 分享了如何快速参与到 OpenSergo 社区贡献中，并进行操作演示。大家也可以参考<a href="https://opensergo.io/zh-cn/docs/community/contribution-guidance/" target="_blank" rel="noopener noreferrer">社区贡献指南</a>进行入门：</li></ol><p>GitHub discussions: <a href="https://github.com/opensergo/opensergo-specification/discussions/55" target="_blank" rel="noopener noreferrer">https://github.com/opensergo/opensergo-specification/discussions/55</a></p><hr><p>OpenSergo 社区会议每两周开展一次（一般是每两周的周三晚），时间为1小时左右。入会方式：</p><ul><li>会议形式：钉钉会议</li><li>OpenSergo 社区交流群（钉钉群）：34826335</li><li>钉钉会议入会口令：244 801 51010</li></ul><p>欢迎社区同学参与讨论与分享。</p></div></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="blogPostTitle_rzP5" itemprop="headline"><a itemprop="url" href="/zh-cn/blog/opensergo-monthly-summary-202210/">Go 生态支持、流量染色... OpenSergo 10月最新动态来啦！</a></h2><div class="blogPostData_Zg1s margin-vert--md"><time datetime="2022-11-02T00:00:00.000Z" itemprop="datePublished">2022年11月2日</time></div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_FlmR"><div class="avatar margin-bottom--sm"><span class="avatar__photo-link avatar__photo"><a href="https://github.com/sczyh30" target="_blank" rel="noopener noreferrer"><img class="image_o0gy" src="https://avatars.githubusercontent.com/u/9434884" alt="赵奕豪"></a></span><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/sczyh30" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">赵奕豪</span></a></div><small class="avatar__subtitle" itemprop="description">Maintainer of Sentinel &amp;&amp; OpenSergo</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>OpenSergo 是开放通用的，覆盖微服务及上下游关联组件的微服务治理项目。OpenSergo 从微服务的角度出发，涵盖流量治理、服务容错、服务元信息治理、安全治理等关键治理领域，提供一系列的治理能力与标准、生态适配与最佳实践，支持 Java, Go, Rust 等多语言生态。</p><p><strong>Go 生态支持、流量染色最佳实践、流控降级与容错 spec 落地... OpenSergo 微服务治理社区 10月最新动态来啦，欢迎了解~</strong></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="微服务治理-spec-演进">微服务治理 Spec 演进<a class="hash-link" href="#微服务治理-spec-演进" title="标题的直接链接">​</a></h2><ul><li><strong>流量染色领域的最佳实践及 spec 设计正式透出</strong>。流量染色，顾名思义将请求流量进行颜色标记，并且将标记跟随着链路一直传递下去。结合流量路由与流量染色能力，我们可以实现全链路灰度、多环境隔离等场景，实现“流量泳道”的能力。流量染色是流量治理领域非常重要的能力，期待大家一起来完善场景以及实现相关能力，后续社区公众号会出专题文章解析这一块的场景与技术原理。</li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="sdkcontrol-plane-演进">SDK/Control Plane 演进<a class="hash-link" href="#sdkcontrol-plane-演进" title="标题的直接链接">​</a></h2><ul><li><strong>OpenSergo Java SDK</strong> 迎来了首个发布版本 0.1.0-beta1。</li><li>由社区主导贡献的 <strong>OpenSergo Go SDK</strong> 初版已形成，目前已初步具备流控降级与容错 spec 的对接能力。相关 PR: <a href="https://github.com/opensergo/opensergo-go-sdk/pull/2" target="_blank" rel="noopener noreferrer">https://github.com/opensergo/opensergo-go-sdk/pull/2</a></li><li>OpenSergo Rust SDK 也在与社区规划中，欢迎 Rust 大佬一起参与贡献~</li><li><strong>性能与稳定性优化</strong>：社区针对同个应用多个框架分别对接了 OpenSergo SDK 的情况下，gRPC client 的复用机制进行了一些讨论与设计，预计会在11月对 Java/Go SDK 的实现进行完善。相关讨论可见：<a href="https://github.com/opensergo/opensergo-java-sdk/issues/8" target="_blank" rel="noopener noreferrer">https://github.com/opensergo/opensergo-java-sdk/issues/8</a></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="社区生态演进">社区生态演进<a class="hash-link" href="#社区生态演进" title="标题的直接链接">​</a></h2><ul><li>社区<strong>完成 Spring Cloud Alibaba 流量路由能力与 OpenSergo 流量路由 spec 的初步对接</strong>，集成模块预计11月发布正式版；后续 Dubbo, Kratos, CloudWeGo 等社区也会一起参与到流量路由能力建设及 spec 对接中。</li><li>随着流量治理组件 Sentinel Java 1.8.6 版本正式发布，<strong>Sentinel OpenSergo 流量治理数据源也迎来了首个版本</strong>。借助 <code>sentinel-datasource-opensergo</code> 数据源模块，开发者可以很方便地将 Kubernetes 集群下的应用通过 Sentinel 接入到 OpenSergo 控制面，然后通过统一的 OpenSergo CRD 对异构化的服务进行统一的流控降级与容错治理，原生支持 20+ 框架集成。文档可以参考：<a href="https://sentinelguard.io/zh-cn/docs/opensergo-data-source.html" target="_blank" rel="noopener noreferrer">https://sentinelguard.io/zh-cn/docs/opensergo-data-source.html</a></li><li>随着 OpenSergo Go SDK 初版成形，<strong>Sentinel Go 集成 OpenSergo 的数据源模块也已形成初版</strong>，目前支持流控、熔断、并发控制等规则 spec。该集成模块可作为 Go 框架对接 OpenSergo Go SDK 的指导示例，相关 PR 见：<a href="https://github.com/alibaba/sentinel-golang/pull/489" target="_blank" rel="noopener noreferrer">https://github.com/alibaba/sentinel-golang/pull/489</a></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="社区开发者">社区开发者<a class="hash-link" href="#社区开发者" title="标题的直接链接">​</a></h2><ul><li><strong>本月 OpenSergo 社区迎来了新的一位 committer 贾江南</strong>（GitHub ID: <a href="https://github.com/jnan806" target="_blank" rel="noopener noreferrer">@jnan806</a>）。贾江南同学在过去的一段时间，积极、活跃地参与到 OpenSergo 社区讨论与贡献中，从0到1完成了 OpenSergo Go SDK 的初版实现，并且在 Go 生态适配、proto 管理、Java SDK 等方面都有着不少贡献，符合社区对 committer 持续贡献的期望。恭喜江南，期待未来持续贡献！</li></ul><hr><p><strong>OpenSergo 开源贡献小组正在火热招募贡献者</strong>。如果您有时间，有热情，有意愿，欢迎联系社区加入开源贡献小组，一起共同完善 OpenSergo 和 Sentinel；对于核心贡献者，我们会提名为 committer，一起主导微服务治理技术与标准演进，并且有持续的激励机制。Now let&#x27;s start hacking!</p></div></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="blogPostTitle_rzP5" itemprop="headline"><a itemprop="url" href="/zh-cn/blog/opensergo-community-meeting-20221026/">OpenSergo 社区双周会纪要（2022/10/26）</a></h2><div class="blogPostData_Zg1s margin-vert--md"><time datetime="2022-10-27T00:00:00.000Z" itemprop="datePublished">2022年10月27日</time></div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_FlmR"><div class="avatar margin-bottom--sm"><span class="avatar__photo-link avatar__photo"><a href="https://github.com/sczyh30" target="_blank" rel="noopener noreferrer"><img class="image_o0gy" src="https://avatars.githubusercontent.com/u/9434884" alt="赵奕豪"></a></span><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/sczyh30" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">赵奕豪</span></a></div><small class="avatar__subtitle" itemprop="description">Maintainer of Sentinel &amp;&amp; OpenSergo</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>本次 OpenSergo 社区双周会（2022/10/26）的议程：</p><ul><li>同步上一周期的进展，包括 spec 建设、Control Plane &amp;&amp; SDK 进展、社区生态接入等进展</li><li>宣布 Committer 晋升动态</li><li>社区分享与讨论，包括流量染色 spec 与实践分享、Sentinel+OpenSergo 展望、多语言生态讨论等</li></ul><p>本周 OpenSergo 社区双周会纪要：</p><ol><li><p>经过全体 committer 提名与讨论，社区很高兴地宣布，贾江南（GitHub ID: @jnan806）正式晋升为 OpenSergo 社区 committer。贾江南同学在过去的一段时间，积极、活跃地参与到 OpenSergo 社区讨论与贡献中，从0到1完成了 OpenSergo Go SDK 的初版实现，并且在 Go 生态适配、proto 管理、Java SDK 等方面都有着不少贡献，符合社区对 committer 持续贡献的期望。恭喜江南，期待未来持续贡献！</p></li><li><p>@宿何 分享 Sentinel 近期社区动态及 Sentinel 2.0+OpenSergo 的演进。本周随着 Sentinel 1.8.6 版本正式发布，Sentinel OpenSergo 流量治理数据源也迎来了首个版本。借助 sentinel-datasource-opensergo 数据源模块，开发者可以很方便地将 Kubernetes 集群下的应用通过 Sentinel 接入到 OpenSergo 控制面，然后通过统一的 OpenSergo CRD 对异构化的服务进行统一的治理规则管控。后续社区会出专题教程来指导大家接入，简短文档可以参考：<a href="https://sentinelguard.io/zh-cn/docs/opensergo-data-source.html" target="_blank" rel="noopener noreferrer">https://sentinelguard.io/zh-cn/docs/opensergo-data-source.html</a></p></li><li><p>OpenSergo Java SDK 也迎来了首个发布版本 0.1.0-beta1: <a href="https://github.com/opensergo/opensergo-java-sdk/releases/tag/v0.1.0-beta1" target="_blank" rel="noopener noreferrer">https://github.com/opensergo/opensergo-java-sdk/releases/tag/v0.1.0-beta1</a></p></li><li><p>@十眠 分享了流量染色这一块领域的最佳实践及 spec 设计。流量染色，顾名思义将请求流量进行颜色标记，并且将标记跟随着链路一直传递下去。结合流量路由与流量染色能力，我们可以实现全链路灰度、多环境隔离等场景，实现“流量泳道”的能力。流量染色是流量治理领域非常重要的能力，社区正在形成初版文档，稍后会提交 PR 请大家一起进行完善。</p></li><li><p>社区对 OpenSergo 多语言生态进行简短的讨论。除了 Java 和 Go 生态之外，Rust 生态也是社区未来期望建设的重要生态，期待大家一起共建 Rust SDK。</p></li></ol><p>GitHub discussions: <a href="https://github.com/opensergo/opensergo-specification/discussions/50" target="_blank" rel="noopener noreferrer">https://github.com/opensergo/opensergo-specification/discussions/50</a></p><hr><p>OpenSergo 社区会议每两周开展一次，时间为1小时左右。入会方式：</p><ul><li>会议形式：钉钉会议</li><li>OpenSergo 社区交流群（钉钉群）：34826335</li><li>钉钉会议入会口令：244 801 51010</li></ul><p>欢迎社区同学参与讨论与分享。</p></div></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="blogPostTitle_rzP5" itemprop="headline"><a itemprop="url" href="/zh-cn/blog/committer-promotion-jiajiangnan/">OpenSergo Committer 晋升通告：贾江南</a></h2><div class="blogPostData_Zg1s margin-vert--md"><time datetime="2022-10-26T00:00:00.000Z" itemprop="datePublished">2022年10月26日</time></div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_FlmR"><div class="avatar margin-bottom--sm"><span class="avatar__photo-link avatar__photo"><a href="https://github.com/sczyh30" target="_blank" rel="noopener noreferrer"><img class="image_o0gy" src="https://avatars.githubusercontent.com/u/9434884" alt="赵奕豪"></a></span><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/sczyh30" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">赵奕豪</span></a></div><small class="avatar__subtitle" itemprop="description">Maintainer of Sentinel &amp;&amp; OpenSergo</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>经过全体 committer 提名与讨论，社区很高兴地宣布，<strong>贾江南（GitHub ID: @jnan806）正式晋升为 OpenSergo 社区 committer</strong>。贾江南同学在过去的一段时间，积极、活跃地参与到 OpenSergo 社区讨论与贡献中，从0到1完成了 OpenSergo Go SDK 的初版实现，并且在 Go 生态适配、proto 管理、Java SDK 等方面都有着不少贡献，符合社区对 committer 持续贡献的期望。恭喜江南！</p><p>贾江南的主要贡献：</p><ul><li>OpenSergo Go SDK 初版实现：<a href="https://github.com/opensergo/opensergo-go-sdk/pull/2" target="_blank" rel="noopener noreferrer">https://github.com/opensergo/opensergo-go-sdk/pull/2</a></li><li>Sentinel Go OpenSergo 数据源模块：<a href="https://github.com/alibaba/sentinel-golang/pull/489" target="_blank" rel="noopener noreferrer">https://github.com/alibaba/sentinel-golang/pull/489</a></li><li>设计了 OpenSergo proto 管理实践：<a href="https://github.com/opensergo/opensergo-proto/issues/5" target="_blank" rel="noopener noreferrer">https://github.com/opensergo/opensergo-proto/issues/5</a></li><li>参与 OpenSergo Java SDK 代码完善，如 <a href="https://github.com/opensergo/opensergo-java-sdk/pull/7" target="_blank" rel="noopener noreferrer">https://github.com/opensergo/opensergo-java-sdk/pull/7</a></li></ul><p>Committer 证书：</p><p><img loading="lazy" alt="committer-sign" src="/zh-cn/assets/images/committer-sign-cn-e299b107afa512fcdd6a137db34c8692.jpg" width="1500" height="2260" class="img_E7b_"></p><p>新晋 Committer 寄语：</p><p><em>很荣幸加入到 OpenSergo 社区的 Commiter 队伍，在以后我将和大家一起来共同建设 OpenSergo。我在希望的同时也非常相信 OpenSergo 未来会在微服务治理的领域中拥有举足轻重的影响力。这里可以交流答疑、可以提升技术、可以挑战技术难点，无论你是新手还是大牛，只要你有时间，有热情，有意愿，欢迎加入社区、参与贡献、拥抱 OpenSergo ~~~</em></p><hr><p>OpenSergo 自项目发起开始就是开放共建的开源项目，微服务治理标准、最佳实践与生态的演进离不开各个企业与社区的共建。社区也在与 bilibili、中国移动、SphereEx 等企业以及 Kratos, CloudWeGo, ShardingSphere, Database Mesh, Apache APISIX, Dubbo, Spring Cloud Alibaba 等社区一起合作，共同完善微服务治理标准与实现。</p><p>OpenSergo 社区现在处于高速发展阶段，从微服务治理标准定义，到 Control Plane 的实现，再到 Java/Go/C++/Rust 等多语言 SDK 与治理功能的实现，再到各个微服务生态的整合与落地，都还有大量的演进工作，欢迎社区一起参与标准完善与代码贡献。</p><p><img loading="lazy" src="https://user-images.githubusercontent.com/9434884/198169761-7495f3db-f67a-4d01-9765-23df42a62f6f.png" alt="image" class="img_E7b_"></p><p><strong>OpenSergo 开源贡献小组正在火热招募贡献者</strong>。如果您有时间，有热情，有意愿，欢迎联系社区加入开源贡献小组，一起共同完善 OpenSergo 和 Sentinel；对于核心贡献者，我们会提名为 committer，一起主导微服务治理技术与标准演进，并且有持续的激励机制。Now let&#x27;s start hacking!</p></div></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="blogPostTitle_rzP5" itemprop="headline"><a itemprop="url" href="/zh-cn/blog/opensergo-community-meeting-20221012/">OpenSergo 社区双周会纪要（2022/10/12）</a></h2><div class="blogPostData_Zg1s margin-vert--md"><time datetime="2022-10-12T00:00:00.000Z" itemprop="datePublished">2022年10月12日</time></div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_FlmR"><div class="avatar margin-bottom--sm"><span class="avatar__photo-link avatar__photo"><a href="https://github.com/sczyh30" target="_blank" rel="noopener noreferrer"><img class="image_o0gy" src="https://avatars.githubusercontent.com/u/9434884" alt="赵奕豪"></a></span><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/sczyh30" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">赵奕豪</span></a></div><small class="avatar__subtitle" itemprop="description">Maintainer of Sentinel &amp;&amp; OpenSergo</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>本次 OpenSergo 社区双周会（2022/10/12）的议程：</p><ul><li>同步上一周期的进展，包括 spec 建设、Control Plane &amp;&amp; SDK 进展、社区生态接入等进展</li><li>社区分享与讨论，包括 OpenSergo Go SDK 设计与实现讨论、Spring Cloud Alibaba + OpenSergo 流量路由 Demo 演示等</li></ul><p>本周 OpenSergo 社区双周会纪要：</p><ol><li>社区同学 @贾江南 分享了近期贡献的 OpenSergo Go SDK 的设计与实现，并讨论了同个应用多个框架分别对接了 OpenSergo SDK 的情况下，client 的复用机制（<a href="https://github.com/opensergo/opensergo-java-sdk/issues/8" target="_blank" rel="noopener noreferrer">issue 见此处</a>）。SDK 的很多细节实现以及可靠性设计还需要社区来完善，欢迎社区一起来 review 与完善。同时 Sentinel Go 社区也开始开展与 OpenSergo 流控降级与容错 spec 的对接，作为 Go 社区对接的范例，也欢迎更多的 Go 社区一起参与到对接与贡献中。</li></ol><p>相关 issue/PR:</p><ul><li>OpenSergo Go SDK PR: <a href="https://github.com/opensergo/opensergo-go-sdk/pull/2" target="_blank" rel="noopener noreferrer">https://github.com/opensergo/opensergo-go-sdk/pull/2</a></li><li>Sentinel Go OpenSergo data-source PR (WIP): <a href="https://github.com/alibaba/sentinel-golang/pull/489" target="_blank" rel="noopener noreferrer">https://github.com/alibaba/sentinel-golang/pull/489</a></li></ul><ol start="2"><li>社区演示了 Spring Cloud Alibaba 流量路由能力对接 OpenSergo 流量路由 spec 的设计与 demo，相关代码还在整理中，这部分对接模块预计11月初发布正式版；后续 Dubbo, Kratos, CloudWeGo 等社区也可以参考这一部分，一起参与到流量路由能力建设及 spec 对接中。</li></ol><p>GitHub discussions: <a href="https://github.com/opensergo/opensergo-specification/discussions/47" target="_blank" rel="noopener noreferrer">https://github.com/opensergo/opensergo-specification/discussions/47</a></p><hr><p>OpenSergo 社区会议每两周开展一次，时间为1小时左右。入会方式：</p><ul><li>会议形式：钉钉会议</li><li>OpenSergo 社区交流群（钉钉群）：34826335</li><li>钉钉会议入会口令：244 801 51010</li></ul><p>欢迎社区同学参与讨论与分享。</p></div></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="blogPostTitle_rzP5" itemprop="headline"><a itemprop="url" href="/zh-cn/blog/opensergo-community-meeting-20220928/">OpenSergo 社区双周会纪要（2022/09/28）</a></h2><div class="blogPostData_Zg1s margin-vert--md"><time datetime="2022-09-28T00:00:00.000Z" itemprop="datePublished">2022年9月28日</time></div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_FlmR"><div class="avatar margin-bottom--sm"><span class="avatar__photo-link avatar__photo"><a href="https://github.com/panxiaojun233" target="_blank" rel="noopener noreferrer"><img class="image_o0gy" src="https://avatars.githubusercontent.com/u/43985911" alt="泮圣伟"></a></span><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/panxiaojun233" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">泮圣伟</span></a></div><small class="avatar__subtitle" itemprop="description">Maintainer of OpenSergo</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>本次 OpenSergo 社区双周会（2022/09/28）的议程：</p><ul><li>同步上一周期的进展，包括 spec 建设、Control Plane &amp;&amp; SDK 进展、社区生态接入等进展</li><li>社区分享与讨论<ul><li>OpenSergo Spec 配置接入流程介绍与演示</li><li>SLS iLogtail 社区分享日志实践</li></ul></li></ul><p>本周 OpenSergo 社区双周会纪要：</p><ol><li>社区分享并演示了 OpenSergo 的 Spec 如何从定义 CRD、proto 到下发给 OpenSergo SDK 的整个流程。</li><li>iLogtail 社区的 @迅飞 同学进行了日志采集、收集等实践的分享，也提出了在云原生场景下 iLogtail 的实践，对日志生产与采集的治理进行的一些展望，同时 @十眠 提出了日志治理与微服务治理结合的可能性，表示后续可以从微服务打印日志的场景入手，进行这一领域标准的抽象。欢迎社区一起思考未来对微服务日志治理的 ideas。</li><li>社区针对 OpenSergo proto 文件及多语言 gRPC stub code 的管理方式进行了进一步的讨论，贾江南 在上周的基础上（<a href="https://github.com/opensergo/opensergo-proto/issues/3" target="_blank" rel="noopener noreferrer">issue 见此处</a>）分享了 proto 文件的管理的统一的思考与看法，针对社区提出的三个解决方案进行了<a href="https://github.com/opensergo/opensergo-proto/issues/5" target="_blank" rel="noopener noreferrer">对应的实现</a>，推荐了按照原生 protoc 方案管理 proto 的最佳实践，并建议将方案三利用 buf.build 的代码生成功能的方案作为可能的后续发展方向。</li></ol><p>最后 @杨博源 提出并与社区探讨 OpenSergo 在服务跨集群，跨云场景下应用和配置等方面可能出现的问题，社区后续可以进行进一步的讨论。</p><p>GitHub discussion 记录：<a href="https://github.com/opensergo/opensergo-specification/discussions/44" target="_blank" rel="noopener noreferrer">https://github.com/opensergo/opensergo-specification/discussions/44</a></p><hr><p>OpenSergo 社区会议每两周开展一次，时间为1小时左右。入会方式：</p><ul><li>会议形式：钉钉会议</li><li>OpenSergo 社区交流群（钉钉群）：34826335</li><li>钉钉会议入会口令：244 801 51010</li></ul><p>欢迎社区同学参与讨论与分享。</p></div></article><nav class="pagination-nav" aria-label="博文列表分页导航"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/zh-cn/blog/page/2/"><div class="pagination-nav__label">较旧的博文</div></a></div></nav></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">文档</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/zh-cn/docs/what-is-opensergo/intro/">OpenSergo 介绍</a></li><li class="footer__item"><a class="footer__link-item" href="/zh-cn/docs/quick-start/quick-start-dashboard/">快速开始</a></li></ul></div><div class="col footer__col"><div class="footer__title">社区</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/zh-cn/docs/community/opensergo-community/#dingtalk">钉钉群 (34826335)</a></li><li class="footer__item"><a class="footer__link-item" href="/zh-cn/docs/community/opensergo-community/#wechat">微信群</a></li></ul></div><div class="col footer__col"><div class="footer__title">更多资源</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/zh-cn/blog/">博客</a></li><li class="footer__item"><a href="https://github.com/opensergo/opensergo-specification" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">© 2022 OpenSergo Authors. Built with Docusaurus.</div></div></div></footer></div>
<script src="/zh-cn/assets/js/runtime~main.316fcf92.js"></script>
<script src="/zh-cn/assets/js/main.b1e4ece7.js"></script>
</body>
</html>