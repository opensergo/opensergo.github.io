<!doctype html>
<html lang="zh-cn" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.18">
<link rel="alternate" type="application/rss+xml" href="/zh-cn/blog/rss.xml" title="OpenSergo RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/zh-cn/blog/atom.xml" title="OpenSergo Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-48TJZ5FK9M"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-48TJZ5FK9M",{anonymize_ip:!0})</script>
<meta name="baidu-site-verification" content="code-5EKRXnGHhT">
<meta name="aes-config" content="pid=xux-opensource&amp;user_type=101&amp;uid=&amp;username=&amp;dim10=OpenSergo"><title data-rh="true">OpenSergo 正式开源 | OpenSergo</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://opensergo.io/zh-cn/blog/opensergo-is-open-source/"><meta data-rh="true" name="docusaurus_locale" content="zh-cn"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="zh-cn"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" name="keywords" content="OpenSergo,OpenSergo官网,微服务治理,服务治理,微服务,Sentinel,限流,熔断,全链路灰度,无损上下线,microservice governance"><meta data-rh="true" property="og:title" content="OpenSergo 正式开源 | OpenSergo"><meta data-rh="true" name="description" content="背景"><meta data-rh="true" property="og:description" content="背景"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2022-04-28T00:00:00.000Z"><meta data-rh="true" property="article:author" content="https://github.com/robberphex,https://github.com/tonybase,https://github.com/ralf0131,https://github.com/GuangmingLuo"><link data-rh="true" rel="icon" href="/zh-cn/img/favicon.png"><link data-rh="true" rel="canonical" href="https://opensergo.io/zh-cn/blog/opensergo-is-open-source/"><link data-rh="true" rel="alternate" href="https://opensergo.io/blog/opensergo-is-open-source/" hreflang="en-US"><link data-rh="true" rel="alternate" href="https://opensergo.io/zh-cn/blog/opensergo-is-open-source/" hreflang="zh-cn"><link data-rh="true" rel="alternate" href="https://opensergo.io/blog/opensergo-is-open-source/" hreflang="x-default"><link rel="stylesheet" href="/zh-cn/assets/css/styles.f6ce6b78.css">
<link rel="preload" href="/zh-cn/assets/js/runtime~main.97daacdc.js" as="script">
<link rel="preload" href="/zh-cn/assets/js/main.0182992e.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script>
<script src="//g.alicdn.com/alilog/mlog/aplus_v2.js" id="beacon-aplus" exparams="clog=o&amp;aplus&amp;sidx=aplusSidx&amp;ckx=aplusCkx"></script>
<script src="//g.alicdn.com/aes/??tracker/1.0.34/index.js,tracker-plugin-pv/2.4.5/index.js,tracker-plugin-event/1.2.5/index.js,tracker-plugin-jserror/1.0.13/index.js,tracker-plugin-api/1.1.14/index.js,tracker-plugin-perf/1.1.8/index.js,tracker-plugin-eventTiming/1.0.4/index.js"></script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">跳到主要内容</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/zh-cn/"><div class="navbar__logo"><img src="/zh-cn/img/logo.svg" alt="OpenSergo" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/zh-cn/img/logo-dark.svg" alt="OpenSergo" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">OpenSergo</b></a><a class="navbar__item navbar__link" href="/zh-cn/docs/what-is-opensergo/intro/">文档</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/zh-cn/blog/">博客</a><a href="https://developer.aliyun.com/ebook/7565?spm=opensergo-website.topbar.0.0.0" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">微服务治理技术白皮书</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><span><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_dNtB"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg><span>简体中文</span></span></a><ul class="dropdown__menu"><li><a href="/blog/opensergo-is-open-source/" target="_self" rel="noopener noreferrer" class="dropdown__link">English</a></li><li><a href="/zh-cn/blog/opensergo-is-open-source/" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active">简体中文</a></li></ul></div><a href="https://github.com/opensergo/opensergo-specification" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_S7eR colorModeToggle_vKtC"><button class="clean-btn toggleButton_rCf9 toggleButtonDisabled_Pu9x" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_v35p"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_nQuB"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_a9qW thin-scrollbar" aria-label="最近博文导航"><div class="sidebarItemTitle_uKok margin-bottom--md">Recent posts</div><ul class="sidebarItemList_Kvuv"><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/zh-cn/blog/opensergo-community-meeting-20221207/">OpenSergo 社区双周会纪要（2022/12/07）</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/zh-cn/blog/opensergo-community-meeting-20221123/">OpenSergo 社区双周会纪要（2022/11/23）</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/zh-cn/blog/opensergo-database-governance-spec-with-shardingsphere/">OpenSergo &amp; ShardingSphere 社区共建微服务视角的数据库治理标准</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/zh-cn/blog/opensergo-community-meeting-20221109/">OpenSergo 社区双周会纪要（2022/11/09）</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/zh-cn/blog/opensergo-monthly-summary-202210/">Go 生态支持、流量染色... OpenSergo 10月最新动态来啦！</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h1 class="blogPostTitle_rzP5" itemprop="headline">OpenSergo 正式开源</h1><div class="blogPostData_Zg1s margin-vert--md"><time datetime="2022-04-28T00:00:00.000Z" itemprop="datePublished">2022年4月28日</time></div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_FlmR"><div class="avatar margin-bottom--sm"><span class="avatar__photo-link avatar__photo"><a href="https://github.com/robberphex" target="_blank" rel="noopener noreferrer"><img class="image_o0gy" src="https://avatars.githubusercontent.com/u/1926185" alt="鲁严波"></a></span><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/robberphex" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">鲁严波</span></a></div><small class="avatar__subtitle" itemprop="description">Maintainer of OpenSergo</small></div></div></div><div class="col col--6 authorCol_FlmR"><div class="avatar margin-bottom--sm"><span class="avatar__photo-link avatar__photo"><a href="https://github.com/tonybase" target="_blank" rel="noopener noreferrer"><img class="image_o0gy" src="https://avatars.githubusercontent.com/u/3871120" alt="陈志辉"></a></span><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/tonybase" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">陈志辉</span></a></div><small class="avatar__subtitle" itemprop="description">Maintainer of OpenSergo</small></div></div></div><div class="col col--6 authorCol_FlmR"><div class="avatar margin-bottom--sm"><span class="avatar__photo-link avatar__photo"><a href="https://github.com/ralf0131" target="_blank" rel="noopener noreferrer"><img class="image_o0gy" src="https://avatars.githubusercontent.com/u/4397305" alt="张乎兴"></a></span><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/ralf0131" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">张乎兴</span></a></div><small class="avatar__subtitle" itemprop="description">Maintainer of OpenSergo</small></div></div></div><div class="col col--6 authorCol_FlmR"><div class="avatar margin-bottom--sm"><span class="avatar__photo-link avatar__photo"><a href="https://github.com/GuangmingLuo" target="_blank" rel="noopener noreferrer"><img class="image_o0gy" src="https://avatars.githubusercontent.com/u/16001996" alt="罗广明"></a></span><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/GuangmingLuo" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">罗广明</span></a></div><small class="avatar__subtitle" itemprop="description">Maintainer of OpenSergo</small></div></div></div></div></header><div id="post-content" class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_mojV" id="背景">背景<a class="hash-link" href="#背景" title="标题的直接链接">​</a></h2><p>软件架构的核心挑战是解决业务快速增长带来的系统复杂性问题。系统越复杂，对服务治理诉求越强烈，小的技术问题越可能被放大，从而造成大的线上故障。而微服务治理就是通过无损上线下、全链路灰度、流量防护等技术手段来减少、甚至避免发布和管理大规模应用过程中遇到的稳定性问题。</p><p>虽然大家都认为微服务治理很重要，但在落地过程中会遇到各种难题。</p><p>例如，在企业内部，往往存在着不同语言、不同通信协议的微服务，这会导致治理微服务的过程中，给业务开发者、架构师平添很多的认知负担，而这类异构会衍生出更多的痛点。</p><ul><li>业内对服务治理的能力和边界没有明确的认识，每个企业所定义的服务治理概念不一致，造成很高的理解和沟通成本。</li><li>开源微服务框架众多，对于服务治理缺乏一些标准化的约定。例如，Spring Cloud 中定义的微服务接口和 Dubbo 中定义的接口就没有办法互通，通过 Dubbo 和 Istio 管理的微服务也没有办法进行统一治理。</li><li>缺少真正面向业务、能够减轻认知负担的抽象和标准。开发者真正想要的可能是简单的、指定服务间的调用关系和配置规则。但现在对于业务开发者来说，不仅需要了解不同微服务框架的部署架构，也要了解不同服务治理方式的概念和能力区别，认知成本很大。</li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="企业级微服务治理实践">企业级微服务治理实践<a class="hash-link" href="#企业级微服务治理实践" title="标题的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="阿里巴巴的微服务实践">阿里巴巴的微服务实践<a class="hash-link" href="#阿里巴巴的微服务实践" title="标题的直接链接">​</a></h3><p>在阿里巴巴内部，服务治理体系从形态上经历了从 SDK 方式、到 Fat-SDK 方式、再到 Java Agent/Sidecar 化的演进历程。具体而言，阿里巴巴从 2008 年就开始了微服务的改造，诞生了服务框架 HSF 及配套的服务治理能力；2012 年，Dubbo 框架开源，提供了非常优秀的服务治理能力，这个阶段的服务治理能力是以 SDK 的方式和服务框架进行一体化演进的；2013 年开始，为了解决 SDK 升级成本高的问题，中间件团队推出轻量级隔离容器 Pandora，将服务治理能力通过 Fat-SDK 的方式从业务中剥离出来，大幅度提升了升级效率。</p><p>然而这种方式仍然面临较高的升级成本。为了将服务治理体系和业务彻底解耦，阿里巴巴从 2019 年开始，通过将服务治理能力下沉到 JavaAgent，实现了完全无需对业务做任何改造、就能接入服务治理的能力。后来，我们将这个技术方案进行产品化，通过阿里云微服务引擎 MSE 这款产品服务云上的企业客户。</p><p>同一时期，随着业务发展的多样化，多语言构建的业务在集团内部逐渐流行起来，阿里巴巴内部开始探索多语言的治理方案，采用了基于 Istio + Envoy 的 Sidecar 方式为异构语言服务，提供基础的服务治理能力。</p><p>在这个过程中我们逐渐发现，异构微服务框架之间有不同的体系和认知，在很多概念上无法完全对齐，用一套标准的服务治理方案治理各种微服务体系变得愈发困难。因此，我们迫切需要一个和语言无关、和技术形态无关，但贴近业务的统一服务治理规范，使得异构微服务体系能够互联互通以及进行统一治理。</p><p>总结下来，阿里巴巴内部的服务治理经历了从基础数据面建设、到治理能力探索、再到能力标准化建设三个阶段。</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="bilibili-的微服务实践">bilibili 的微服务实践<a class="hash-link" href="#bilibili-的微服务实践" title="标题的直接链接">​</a></h3><p>从 2016 年开始，bilibili 进行经历巨石架构到微服务的完整转型，整个过程中，也面临了很多服务治理问题。从单体到微服务整个部署和管理模式开始进行转变，我们为了提高研发效率和稳定性拆分了不同粒度的服务，所以我们于 2017 年开始思考如何管理微服务，从而开始通过容器部署和隔离，在管理方面极大地解决了我们的问题，同时也建设了统一的注册中心和配置中心基础中间件，整个微服务也围绕这两个基础中间件做了很多服务治理相关的。</p><p>在早期我们语言还是比较统一的，基本上是以 Go 语言为主，有统一的 Kratos 框架，所以服务治理也是优先选择了 SDK 方式进行管控。随着这几年的业务快速发展，内部出现 Java、C++ 等一些语言，我们尝试了 Service Mesh 通过 Sidecar 方式进行管理，在这个过程中我们逐渐发现，整个维护成本其实是不小的，并且性能损耗在降本增效的这个大环境下也有比较大的挑战。所以，我们也非常期待有一套服务治理标准，可以在 Kratos 框架、Java Agent、Istio 等体系中使用。</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="微服务治理的发展趋势">微服务治理的发展趋势<a class="hash-link" href="#微服务治理的发展趋势" title="标题的直接链接">​</a></h2><p>展望未来，微服务治理的发展趋势，是让业务迭代更加高效、业务和治理更加透明和解耦：</p><ul><li>服务治理数据面透明化、多元化：微服务数据面会逐渐下沉为基础设施，业务开发者会将数据面当作一个标准组件来使用。同时，服务治理也会通过多种形态来支持不同的数据面，对齐服务治理数据面能力。</li><li>服务治理数据面标准化：微服务框架会直接对接标准的服务治理标准，减轻微服务框架的对接负担；业务开发者也只需要理解标准的服务治理数据面标准，不需要了解底层能力，降低认知负担。</li><li>数据面实现互操作性：各个微服务框架、各个通信协议提供的能力会标准化，能够让用户用统一的模式来认知和治理。</li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="opensergo-的使命和愿景">OpenSergo 的使命和愿景<a class="hash-link" href="#opensergo-的使命和愿景" title="标题的直接链接">​</a></h2><p>基于此，阿里巴巴在2022年1月开始和 bilibili、字节等厂商讨论服务治理如何规范化和更加普及，从而共同发起了 OpenSergo 项目。</p><p>我们观察到，目前不同框架、不同语言在微服务治理上的概念碎片化、无法互通。所以，OpenSergo 致力于在不同的微服务框架、通信协议之间达成共识，形成服务治理规范。</p><ul><li>让业务开发者，不会因为不同的语言、不同的框架而产生割裂。</li><li>让架构师，能够用统一的规范来描述自己内部的微服务架构。</li><li>让中间件开发者，能够和现有微服务框架对齐，增强微服务框架之间的互操作能力，促进微服务框架在企业落地。</li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="opensergo-总览">OpenSergo 总览<a class="hash-link" href="#opensergo-总览" title="标题的直接链接">​</a></h2><p>OpenSergo 主要包含三大部分：</p><ul><li><p><strong>控制面</strong>：用户可以通过 CRD 或者 Dashboard 的方式查看、修改服务治理配置，并将这些管控信息下发到数据面。</p></li><li><p><strong>数据面</strong>：JavaAgent、Servcie Mesh、各个接入 OpenSergo 的微服务框架都能够接收到服务治理配置，并应用到当前的业务流量中。各个数据面都能够认可OpenSergo规定的服务治理配置、流量标签等信息，确保降低开发者理解成本。</p></li><li><p><strong>OpenSergo Spec</strong>：Spec 规定了控制面和数据面的通信约定，确保用户使用一种 Spec 即可描述不同框架、不同协议、不同语言的微服务架构，让开发者不再需要关注底层差异。</p></li></ul><p><img loading="lazy" src="/zh-cn/assets/images/what-is-opensergo-a518e1d8a40179477895a47ac0fadfb5.png" width="1614" height="860" class="img_E7b_"></p><p>对于控制面，OpenSergo 统一了治理规则，用户不必再绑定到某个开源方案、某个云厂商提供的服务上。不同的数据面、控制面只要对接 OpenSergo 规范，即可无缝对接现有的服务治理体系。</p><p>对于数据面，OpenSergo 提供了不同的接入方式：</p><ul><li>Spec/SDK 接入：微服务框架可以通过 OpenSergo 规范实现自助接入。各个框架也可以通过 SDK 简单地接入到 OpenSergo 中，这种接入方式能够获取到更多的框架内部信息，也能够省去 Sidecar 带来的额外性能、资源开销。</li><li>Sidecar 方式接入：对于多语言服务，OpenSergo 可以将服务治理规则下发到 Sidecar 中，以 Sidecar 方式治理现有的微服务应用。</li><li>Java Agent 接入：对于 Java 应用，Java Agent 可以用无侵入的方式将服务治理能力增强到现有的微服务应用中，能够很好地将存量 Java 应用带入到统一的微服务治理体系中来。</li></ul><p><img loading="lazy" src="/zh-cn/assets/images/arch-1-531cce477799dd61ffb089a0b7464a77.png" width="1600" height="998" class="img_E7b_"></p><p>从阿里巴巴集团内部和阿里云提供的服务治理经验来看，结合各个开源微服务框架、各公司内部的治理经验，从服务治理功能层面来说，目前业界认可的主要分为上图中的开发态、测试态、发布态、高可用、安全态五个部分：</p><ul><li>开发态：方便业务开发者了解微服务定义，方便开发调试；提升研发效率，让开发更快捷。<ul><li>服务契约：能够让各个微服务框架来定义提供了哪些接口、每个接口的参数、以及接口的业务说明；便于开发者迅速了解应用。</li><li>服务调试：能够填写入参、迅速发起一个服务调用，不再需要自己写代码。</li><li>服务Mock：在开发过程中，能够暂时模拟应用行为，防止应用依赖阻碍开发进度。</li><li>开发环境隔离：通过逻辑隔离的方式，为每一个正在开发的功能特性隔离出一个独立的环境， 在低成本的前提下，划分出多个完整的独立环境，使得各功能特性的开发调试不会互相影响， 提升开发迭代的效率。</li></ul></li><li>测试态：方便测试人员压测、回归、验证功能；提升测试效率，让测试更快更准更全面。<ul><li>服务压测：快速发起压测，迅速了解微服务的容量是否偏离基线，确保应用性能</li><li>自动化回归：通过自动化的方式进行回归测试，自动发起测试并自动比对结果进行验证，无需人工重复测试，保障业务代码逻辑的正确性</li><li>流量录制：将线上流量录制下来，自动生成测试用例进行回归测试，通过真实的请求丰富测试用例</li><li>流量回放：将录制好的流量重新运行，验证当前的业务运行结果是否和录制好的请求的结果匹配，保障业务逻辑的正确性</li></ul></li><li>发布态：解决业务发布的时候的流量治理问题，让应用发布能够顺畅稳定。<ul><li>无损下线：确保应用在发布、停止、扩容时，所有请求都不会被影响，确保微服务下线的过程中业务无损。</li><li>服务预热：应用刚启动时可能会存在一些资源未初始化完成、未预热完毕的情况，服务预热可以确保在这个场景下不影响业务。</li><li>金丝雀发布：满足特定流量特征的请求才会进入微服务的灰度节点，通过小流量验证微服务 新版的逻辑是否符合预期。</li><li>全链路灰度：一个迭代的多个应用同时发布，希望经过灰度的上游流量只能达到下游的灰度 节点，确保灰度流量只在灰度环境中流转。</li></ul></li><li>高可用：提供限流、降级、熔断等能力，保障业务稳定性、可用性。<ul><li>限流：针对超过阈值的流量进行限流控制，保障机器和整体业务的稳定性。</li><li>降级：在资源有限的情况下，针对某些不重要的请求返回预设的降级结果，把有限的资源让给重要的请求。</li><li>熔断：客户端访问后端服务不可用的情况下，返回预先定义的异常或结果，避免引起业务异常，甚至雪崩。</li><li>离群实例摘除：在单个服务提供者节点持续不可用的情况下，在消费者侧摘除这个异常节点，保障业务的高可用。</li><li>临近路由：微服务多可用区部署的情况下，确保流量优先在同一个可用区内流转，降低业务的整体时延。</li><li>就近容灾路由：当某个可用区发生故障，可以把流量尽快的切到正常的可用区，让业务以最快速度恢复。</li></ul></li><li>安全态：保护敏感业务、提供零信任能力，保障业务安全。<ul><li>服务鉴权：保护敏感微服务，确保敏感服务只能被已授权的应用访问和调用。</li><li>漏洞防护：微服务框架通常会陆陆续续被发现许多漏洞，整体的升级成本很高，需要通过不升级框架的方式实现漏洞的防护，可以通过流量拦截、动态程序修改等技术来修复和缓解。</li><li>配置鉴权：对于敏感配置，不希望任何微服务都有权限访问，控制只有受限的微服务才能访问。</li></ul></li></ul><p><img loading="lazy" src="/zh-cn/assets/images/arch-2-1edb0a3ddc142d381556ee8a473dcc53.png" width="1600" height="779" class="img_E7b_"></p><p>从更大的角度来看，除了微服务框架、Service Mesh、Java Agent 方式的治理之外，服务治理还会关注网关、存储等完整的调用链路；在实现上，也会包括微服务服务发现、配置管理、分布式事务等微服务基础组件的治理和接入。</p><p>在图中的子领域中，OpenSergo 会采纳现有的规范、提出落地新的规范，来给业务开发者提供一套标准界面，能够对业务开发者、架构师屏蔽底层差异，让他们专注于核心业务价值，从而真正兑现云原生微服务的价值。</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="opensergo-减少实施微服务治理时的阻力">OpenSergo 减少实施微服务治理时的阻力<a class="hash-link" href="#opensergo-减少实施微服务治理时的阻力" title="标题的直接链接">​</a></h2><p>OpenSergo 致力于提供统一的服务治理能力，让业务开发者、架构师能够以云原生的方式来定义自己的微服务架构，来满足自己的业务发展，从而减少实施微服务治理时的阻力。</p><p>在以往，架构师在设计架构时，总是要考虑各种微服务框架的能力、各种通信协议的差异、各种服务治理带来的能力差异，导致设计时要考虑很多底层的实现，极大的增加了认知负担。业务开发者也要关注当前的微服务框架如何才能满足自己的治理要求、当前的通信协议如何灰度、如何调试、如何限流等。可以预见，业务开发者将耗费很大一部分的精力在微服务框架、服务治理上，在核心业务价值上的投入却少了很多。</p><p>OpenSergo 将对底层能力标准化，对架构师、对业务开发者屏蔽底层差异，用更加云原生的方式来治理微服务。架构师只需要用统一的能力模型设计业务架构，而业务开发者也只需要利用统一的能力模型来专注于业务开发。</p><p>此外，对于企业而言，现有的微服务治理体系，严重特化于现有框架，阻碍了微服务框架的选型，也阻碍了新技术、新业务的发展。所以 OpenSergo 的另一个重点，是帮助开源微服务框架在企业顺利落地。</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="opensergo-提升开源微服务框架的落地速度">OpenSergo 提升开源微服务框架的落地速度<a class="hash-link" href="#opensergo-提升开源微服务框架的落地速度" title="标题的直接链接">​</a></h2><p>对于各类微服务框架，在企业中落地的一个重要难点就是与现有的服务治理体系相结合。借助 OpenSergo 标准化的服务治理能力，开源微服务框架可以通过标准化的服务治理能力与企业现有的基础设施结合，迅速在企业落地，兑现业务价值。</p><p>微服务框架对接 OpenSergo 后，业务开发者只需要修改环境变量来接入，即可和现有的服务治理系统相结合，提供上述的服务治理能力。而此前，每个企业都要对接各自的微服务治理体系，OpenSergo 能够提升企业接入新框架、新技术的速度，也能减少服务框架开发者的服务治理对接成本，扩大微服务框架的采纳率、影响力。</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="opensergo-的未来规划">OpenSergo 的未来规划<a class="hash-link" href="#opensergo-的未来规划" title="标题的直接链接">​</a></h2><p>让异构微服务能够统一治理、让更多微服务能够互联互通，塑造更加云原生的微服务，是 OpenSergo 建立之初就树立的长期发展目标。</p><p>在数据面建设上，OpenSergo 社区将在服务注册与发现、服务治理能力上做进一步补齐，提供统一的服务治理控制面和 Dashboard，招募更多的企业和微服务框架进入社区。同时，我们看到控制面标准化、数据面多样化的趋势，Nginx、Ingress、Apache Dubbo-go-pixiu 等网关作为数据面的流量入口，与 SDK、Java Agent、Sidecar 等多种方式的数据面在能力上能够完全对齐，给更多用户带来简单、一致的、更加云原生的服务治理体验。</p><p>在标准化建设上，OpenSergo 社区会联合各个微服务框架、相关厂商、企业、用户等相关方，在更多领域层面上标准化微服务能力，让企业能够用一套语言来描述自己的微服务架构，让开发者专注于业务核心价值，让微服务框架也能够被客户轻松采用。</p><p>在控制面建设上，OpenSergo 社区目前已经提供 OpenSergo Dashboard 来直观实用，也将会给微服务标准功能提供一个参考控制面，并通过中立的 OpenSergo 协议，让所有的微服务框架、所有的通信协议都可以被同一套微服务门户来治理。</p><p><img loading="lazy" src="/zh-cn/assets/images/roadmap-c1f65906e4f0618a31744ebc5916bbbf.png" width="1600" height="833" class="img_E7b_"></p><p>OpenSergo 自创立就是社区项目，通过 Apache License 2.0 协议开源。后续在 OpenSergo 微服务规范的制定、发展上，也会通过公开、透明、民主的方式来制定标准、推动实施。未来也将通过 GitHub issue、邮件列表、社区双周会等机制，确保通过社区协作的方式确定相关规范。欢迎大家通过这些形式一起来讨论、共建。</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="博文分页导航"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/zh-cn/blog/opensergo-v1alpha1-is-coming/"><div class="pagination-nav__sublabel">较新一篇</div><div class="pagination-nav__label">OpenSergo 即将发布 v1alpha1，丰富全链路异构架构的服务治理能力</div></a></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></main><div class="col col--2"><div class="tableOfContents_cNA8 thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#背景" class="table-of-contents__link toc-highlight">背景</a></li><li><a href="#企业级微服务治理实践" class="table-of-contents__link toc-highlight">企业级微服务治理实践</a><ul><li><a href="#阿里巴巴的微服务实践" class="table-of-contents__link toc-highlight">阿里巴巴的微服务实践</a></li><li><a href="#bilibili-的微服务实践" class="table-of-contents__link toc-highlight">bilibili 的微服务实践</a></li></ul></li><li><a href="#微服务治理的发展趋势" class="table-of-contents__link toc-highlight">微服务治理的发展趋势</a></li><li><a href="#opensergo-的使命和愿景" class="table-of-contents__link toc-highlight">OpenSergo 的使命和愿景</a></li><li><a href="#opensergo-总览" class="table-of-contents__link toc-highlight">OpenSergo 总览</a></li><li><a href="#opensergo-减少实施微服务治理时的阻力" class="table-of-contents__link toc-highlight">OpenSergo 减少实施微服务治理时的阻力</a></li><li><a href="#opensergo-提升开源微服务框架的落地速度" class="table-of-contents__link toc-highlight">OpenSergo 提升开源微服务框架的落地速度</a></li><li><a href="#opensergo-的未来规划" class="table-of-contents__link toc-highlight">OpenSergo 的未来规划</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">文档</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/zh-cn/docs/what-is-opensergo/intro/">OpenSergo 介绍</a></li><li class="footer__item"><a class="footer__link-item" href="/zh-cn/docs/quick-start/quick-start-dashboard/">快速开始</a></li></ul></div><div class="col footer__col"><div class="footer__title">社区</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/zh-cn/docs/community/opensergo-community/#dingtalk">钉钉群 (34826335)</a></li><li class="footer__item"><a class="footer__link-item" href="/zh-cn/docs/community/opensergo-community/#wechat">微信群</a></li></ul></div><div class="col footer__col"><div class="footer__title">更多资源</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/zh-cn/blog/">博客</a></li><li class="footer__item"><a href="https://github.com/opensergo/opensergo-specification" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">© 2022 OpenSergo Authors. Built with Docusaurus.</div></div></div></footer></div>
<script src="/zh-cn/assets/js/runtime~main.97daacdc.js"></script>
<script src="/zh-cn/assets/js/main.0182992e.js"></script>
</body>
</html>